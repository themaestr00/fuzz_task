# Отчет о проделанной работе
## 1. Изучение материалов, сборка AFL++
Первым делом изучил документацию к фаззерам [AFL](https://github.com/google/AFL) и [AFL++](https://github.com/AFLplusplus/AFLplusplus). Далее установил пакет AFL++ через пакетный менеджер: ```sudo apt install afl++```.
## 2. Тестовый фаззинг
Написал небольшую программу на C (hello.c) с использованием оператора if, в одно из ветвлений добавил вызов abort(). Результаты работы фаззера описал в каталоге [small_sample](https://github.com/themaestr00/fuzz_task/tree/main/small_sample).
## 3. Выбор таргета для фаззинга и написание касмотного мутатора
В качестве таргета выбрал проект [agrep](https://github.com/Wikinaut/agrep), так как он работает с текстовыми данными, которые довольно просто модифицировать. Собрал бинарник с помощью afl-cc. Далее написал кастомный мутатор [my_mutator.py](https://github.com/themaestr00/fuzz_task/tree/main/my_mutator). Мутатор добавляет/заменяет произвольные силы в паттерн, передаваемый agrep. Чтобы найти больше путей, отдельный приоритет отдал метасимволам, которые используются в agrep.
## 4. Тестовый запуск фаззера без кастомного мутатора
Решил сначала тестово запустить фаззер без мутатора. Запуск произошел без неожиданностей, результаты работы - [no_mut](https://github.com/themaestr00/fuzz_task/tree/main/no_mut).
## 5. Одиночный запуск фаззера с кастомным мутатором
Далее начал подготовку к запуску фаззера с применением кастомного мутатора. Для запусков решил увеличить число передаваемых аргументов командной строки, чтобы, возможно, найти новые пути выполнения программы. (В процессе также была попытка мутации аргументов командной строки, но она на этот раз не была успешной). Результаты запуска фаззера - [single](https://github.com/themaestr00/fuzz_task/tree/main/single). Фаззинг остановил после того, как afl-fuzz перестал находить новые пути.
## 6. Параллельный запуск фаззеров с кастомным мутатором
Далее запустил 2 процесса afl-fuzz с аналогичными аргументами. Удалось найти большее число путей по сравнению с одиночным запуском. Также были найдены 12 различных падений - [crashes](https://github.com/themaestr00/fuzz_task/tree/main/crashes). Результаты запуска - [multi](https://github.com/themaestr00/fuzz_task/tree/main/multi).
## 7. Найденные падения
Все файлы с шаблонами, которые вызвали падения agrep, перенес в папку crashes (ссылка выше) для дальнейшей проверки работы agrep. Падения действительно были получены при определенных комбинациях аргументов вызова agrep. Пример ниже. ![image](https://github.com/user-attachments/assets/6d5d97bc-f66c-4c32-9fb3-e6e1d2758805).
## 8. Возможные доработки и улучшения
Возможно, стоит доработать мутатор, расширив перечень возможных символов для вставки. Также попробовать реализовать фаззинг аргументов командной строки: [argv_fuzzing](https://github.com/google/AFL/tree/master/experimental/argv_fuzzing). Еще стоит провести фаззинг на более мощном ПК и проводить его более длительное время, тогда можно будет найти еще больше путей выполнения программы (есть потенциал).
